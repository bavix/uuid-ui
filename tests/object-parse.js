import assert from 'node:assert';
import test from 'test';
import {objectParse} from "../src/object-parser.js";

test('object-parse', (t) => {
    const inputs = [
        '{"high":3623603779236289536,"low":-5403687274121262080}',
        '{"low":-5403687274121262080,"high":3623603779236289536}',
        '{"low":-5403687274121262080,"high":\'3623603779236289536\'}',
        '{"low":\'-5403687274121262080\',"high":3623603779236289536}',
        '{"low":\'-5403687274121262080\',"high":\'3623603779236289536\'}',
        '{"low":-5403687274121262080,"high":"3623603779236289536"}',
        '{"low":"-5403687274121262080","high":3623603779236289536}',
        '{"low":"-5403687274121262080","high":"3623603779236289536"}',
        '{"low":"-5403687274121262080" , "high":"3623603779236289536"}',
        '3623603779236289536;-5403687274121262080',
        '3623603779236289536:-5403687274121262080',
        '3623603779236289536,-5403687274121262080',
    ]

    for (const input of inputs) {
        assert.deepStrictEqual({"high":"3623603779236289536","low":"-5403687274121262080"}, objectParse(input));
    }

    assert.deepStrictEqual(
        [11,91,36,68,112,160,73,50,152,12,180,220,13,63,2,181],
        objectParse('[11,91,36,68,112,160,73,50,152,12,180,220,13,63,2,181]'),
    )
    assert.deepStrictEqual(
        [11,91,36,68,112,160,73,50,152,12,180,220,13,63,2,181],
        objectParse('["11","91","36","68","112","160","73","50","152","12","180","220","13","63","2","181"]'),
    )
});
